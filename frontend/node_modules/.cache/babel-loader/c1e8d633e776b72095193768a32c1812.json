{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import _toConsumableArray from\"C:/Users/Admin/Desktop/bs/Pharmacy-Management-Application/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Admin/Desktop/bs/Pharmacy-Management-Application/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"../styles/ProductScreen.css\";import{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";// Actions\nimport{getProductDetails}from\"../redux/actions/productActions\";import{addToCart}from\"../redux/actions/cartActions\";var ProductScreen=function ProductScreen(_ref){var match=_ref.match,history=_ref.history;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.getProductDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){if(product&&match.params.id!==product._id){dispatch(getProductDetails(match.params.id));}},[dispatch,match,product]);var addToCartHandler=function addToCartHandler(){dispatch(addToCart(product._id,qty));history.push(\"/cart\");};return/*#__PURE__*/_jsx(\"div\",{className:\"productscreen\",children:loading?/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"h2\",{children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productscreen__left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left__image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.imgsrc,alt:product.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"left__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"left__name\",children:product.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Price:\"}),\" \\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Indiaction:\"}),\" \",product.indication]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Dosage:\"}),\" \",product.indication]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Side Effects:\"}),\" \",product.dosage]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"productscreen__right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"right__info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Price:\",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",product.price]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status:\",/*#__PURE__*/_jsx(\"span\",{children:product.countInStock>0?\"In Stock\":\"Out of Stock\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Qty\",/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addToCartHandler,children:\"Add To Cart\"})})]})})]})});};export default ProductScreen;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/bs/Pharmacy-Management-Application/frontend/src/screens/ProductScreen.js"],"names":["useState","useEffect","useSelector","useDispatch","getProductDetails","addToCart","ProductScreen","match","history","qty","setQty","dispatch","productDetails","state","loading","error","product","params","id","_id","addToCartHandler","push","imgsrc","title","fontWeight","fontSize","price","indication","dosage","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import \"../styles/ProductScreen.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\n// Actions\r\nimport { getProductDetails } from \"../redux/actions/productActions\";\r\nimport { addToCart } from \"../redux/actions/cartActions\";\r\n\r\nconst ProductScreen = ({ match, history }) => {\r\n  const [qty, setQty] = useState(1);\r\n  const dispatch = useDispatch();\r\n\r\n  const productDetails = useSelector((state) => state.getProductDetails);\r\n  const { loading, error, product } = productDetails;\r\n\r\n  useEffect(() => {\r\n    if (product && match.params.id !== product._id) {\r\n      dispatch(getProductDetails(match.params.id));\r\n    }\r\n  }, [dispatch, match, product]);\r\n\r\n  const addToCartHandler = () => {\r\n    dispatch(addToCart(product._id, qty));\r\n    history.push(`/cart`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"productscreen\">\r\n      {loading ? (\r\n        <h2>Loading...</h2>\r\n      ) : error ? (\r\n        <h2>{error}</h2>\r\n      ) : (\r\n        <>\r\n          <div className=\"productscreen__left\">\r\n            <div className=\"left__image\">\r\n              <img src={product.imgsrc} alt={product.title} />\r\n            </div>\r\n            <div className=\"left__info\">\r\n              <p className=\"left__name\">{product.title}</p>\r\n              <p> <span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Price:</span> ₹{product.price}</p>\r\n              <p ><span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Indiaction:</span> {product.indication}</p>\r\n              <p> <span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Dosage:</span> {product.indication}</p>\r\n              <p> <span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Side Effects:</span> {product.dosage}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"productscreen__right\">\r\n            <div className=\"right__info\">\r\n              <p>\r\n                Price:\r\n                <span>₹{product.price}</span>\r\n              </p>\r\n              <p>\r\n                Status:\r\n                <span>\r\n                  {product.countInStock > 0 ? \"In Stock\" : \"Out of Stock\"}\r\n                </span>\r\n              </p>\r\n              <p>\r\n                Qty\r\n                <select value={qty} onChange={(e) => setQty(e.target.value)}>\r\n                  {[...Array(product.countInStock).keys()].map((x) => (\r\n                    <option key={x + 1} value={x + 1}>\r\n                      {x + 1}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </p>\r\n              <p>\r\n                <button type=\"button\" onClick={addToCartHandler}>\r\n                  Add To Cart\r\n                </button>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductScreen;\r\n"]},"metadata":{},"sourceType":"module"}